## Based on fastapi-sqlalchemy-template

https://github.com/mdhishaamakhtar/fastapi-sqlalchemy-postgres-template/

This is for test purposes only.


## Тестовое задание
Вы можете разместить его в открытом доступе на github или gitlab. Тестовое задание рассчитано максимум на 2 часа, весь вспомогательный код написан, нужно дописать только логику. Интервью будет назначено после тестового задания.

Сделать сервис по работе с балансами. Возьмите скелетон сервиса из архива.
Код предоставляется для сокращения затрат на boilerplate, его можно слегка переструктурировать и исправлять ошибки, если это уместно.

Нужно реализовать:

* REST API добавление пользователя
* REST API добавление транзакции (DEPOSIT или WITHDRAW)
* REST API получить информацию о транзакции
* REST API получить текущий баланс пользователя (без селекта всех транзакций) или баланс за дату (например, запрос "сколько у Васи было денег 5.05.2022 00:00")

Ваш код должен быть покрыт тестами.
Важно, чтобы тесты проверяли правильность работы программы, никаких требований к исполнению тестов нет. Код должен быть понятным, но требования к красоте нет.

* python3
* sqlalchemy
* postgresql

Дополнительно:
* учесть, что сервис будет запускаться в k8s.
* учесть, что архитектура должна гарантировать обработку транзакции ровно 1 раз. Какие требования это накладывает на сам сервис и соседние сервисы?
* описать (можно не реализовывать), как можно реализовать уведомление других сервисов о транзакциях. Например, уведомить рекламный движок, который работает при наличии средств на счету.
* тезисно перечислить, какие инструменты можно применить для контроля качества работы сервиса.
* гарантировать, что баланс пользователя не может быть отрицательным.

